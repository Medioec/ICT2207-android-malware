package com.example.ict2207malware;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.provider.Settings;
import android.view.View;
import android.widget.Button;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        if (!checkAccessibilityPermission()) {
            showDialog();
            //Toast.makeText(MainActivity.this, "Please enable permissions for app", Toast.LENGTH_SHORT).show();
        }

        int[] BUTTON_IDS = {R.id.shaneButton, R.id.haiqiButton, R.id.junjieButton, R.id.ericButton, R.id.adrielButton, R.id.ruiButton};

        for (int id : BUTTON_IDS) {
            Button button =  findViewById(id);
            button.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View view) {
                    switch(view.getId()){
                        case R.id.shaneButton:
                            displayShane();
                            break;
                        case R.id.haiqiButton:
                            displayHaiqi();
                            break;
                        case R.id.junjieButton:
                            displayJunjie();
                            break;
                        case R.id.ericButton:
                            displayEric();
                            break;
                        case R.id.adrielButton:
                            displayAdriel();
                            break;
                        case R.id.ruiButton:
                            displayRui();
                            break;
                    }
                }
            });
        }
    }

    public boolean checkAccessibilityPermission() {
        int accessEnabled = 0;
        try {
            accessEnabled = Settings.Secure.getInt(this.getContentResolver(), Settings.Secure.ACCESSIBILITY_ENABLED);
        }
        catch (Settings.SettingNotFoundException e) {
            e.printStackTrace();
        }
        if (accessEnabled == 0) {
            return false;
        }
        else {
            return true;
        }
    }

    private void showDialog() {
        AlertDialog dialog = new AlertDialog();
        dialog.setDialogText("Accessibility permissions are required to run this app");
        dialog.show(getSupportFragmentManager(), "Alert");
    }

    public void displayShane()
    {
        DisplayShane displayShane = new DisplayShane();
        displayShane.show(getSupportFragmentManager(),"Shane's Information");
    }

    public void displayHaiqi()
    {
        DisplayHaiqi displayHaiqi = new DisplayHaiqi();
        displayHaiqi.show(getSupportFragmentManager(), "Hai Qi's Information");
    }

    public void displayJunjie()
    {
        DisplayJunjie displayJunjie = new DisplayJunjie();
        displayJunjie.show(getSupportFragmentManager(), "Jun Jie's Information");
    }

    public void displayEric()
    {
        DisplayEric displayEric = new DisplayEric();
        displayEric.show(getSupportFragmentManager(), "Eric's Information");
    }

    public void displayAdriel()
    {
        DisplayAdriel displayAdriel = new DisplayAdriel();
        displayAdriel.show(getSupportFragmentManager(), "Adriel's Information");
    }

    public void displayRui()
    {
        DisplayRui displayRui = new DisplayRui();
        displayRui.show(getSupportFragmentManager(), "Rui Heng's Information");
    }
}